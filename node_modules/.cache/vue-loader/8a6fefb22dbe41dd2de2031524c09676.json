{"remainingRequest":"/root/vuehcovdb/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/vuehcovdb/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/vuehcovdb/src/views/Search.vue","mtime":1631215831630},{"path":"/root/vuehcovdb/node_modules/babel-loader/lib/index.js","mtime":1631213235420},{"path":"/root/vuehcovdb/node_modules/cache-loader/dist/cjs.js","mtime":1631213235484},{"path":"/root/vuehcovdb/node_modules/vue-loader/lib/index.js","mtime":1631213236960}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHtMb29waW5nUmhvbWJ1c2VzU3Bpbm5lcn0gZnJvbSAnZXBpYy1zcGlubmVycycKCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlYXJjaCIsCiAgY29tcG9uZW50czogewogICAgTG9vcGluZ1Job21idXNlc1NwaW5uZXIKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2RhaW5nQ3JpdGVyaWE6IHRydWUsCiAgICAgIGlzTG9kYWluZ1Jlc3VsdHNDb3VudDogdHJ1ZSwKICAgICAgYWNjZXNzaW9uX251bTogIiIsCiAgICAgIHNwZWNpbWVuOiAic2Fyc2NvdjJfdmlydXMiLAogICAgICBzZXF1ZW5jZV90eXBlOiAibnVjbCIsCiAgICAgIG51bV92aXJ1czogMCwKICAgICAgY3JpdGVyaWE6IHsKICAgICAgICBnZW5lX3N5bWJvbHM6IG51bGwsCiAgICAgICAgaG9zdHM6IG51bGwsCiAgICAgICAgY291bnRyaWVzOiBudWxsLAogICAgICAgIHllYXJzOiBudWxsLAogICAgICB9LAogICAgICBjcml0ZXJpYV9zZWxlY3Rpb246IHsKICAgICAgICBnZW5lX3N5bWJvbHM6IG51bGwsCiAgICAgICAgaG9zdHM6IG51bGwsCiAgICAgICAgY291bnRyaWVzOiBudWxsLAogICAgICAgIHllYXJzOiBudWxsLAogICAgICB9LAogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpCiAgfSwKICB1cGRhdGVkICgpIHsKICAgLyogJCgnLnNlbGVjdDJDcml0Jykuc2VsZWN0Mih7CiAgICAgICJwbGFjZWhvbGRlciI6ICIoQW55KSIKICAgIH0pOyovCgogICAgJCgnLnNlbGVjdDJDcml0Jykub24oJ2NoYW5nZScsZSA9PiB7CiAgICAgIHRoaXMuc2V0Q3JpdGVyaWEoKTsKICAgIH0pOwogIH0sCiAgd2F0Y2g6IHsKCiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcm5hbWUgKCkgewogICAgICByZXR1cm4gIiIKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNsZWVwKG1zKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTsKICAgIH0sCiAgICBsb2FkQ3JpdGVyaWEgKHNlcXVlbmNlX3R5cGUsIHNwZWNpbWVuKSB7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdmlydXNlcy9zZWFyY2hfY3JpdGVyaWEvIiArIHNlcXVlbmNlX3R5cGUgKyAiLyIgKyBzcGVjaW1lbikudGhlbihyZXNwb25zZT0+ewogICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGdlbmVzCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmdlbmVzLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgIHZhciBnID0gcmVzcG9uc2UuZGF0YS5nZW5lc1tpXTsKICAgICAgICAgIGlmKGdbMF0gPT0gIlA5MCIpIHsKICAgICAgICAgICAgZ1sxXSA9ICJSTkEtRGlyZWN0ZWQgUk5BIFBvbHltZXJhc2UiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ1sxXSA9IGdbMV0udG9Mb3dlckNhc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuY3JpdGVyaWEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIAogICAgICAgICB0aGlzLnNsZWVwKDUwMCkudGhlbiggKCk9PnsKICAgICAgICB0aGlzLmlzTG9kYWluZ0NyaXRlcmlhID0gZmFsc2U7fSk7CiAgICAgIH0pCiAgICB9LAogICAgZ2V0Q3JpdGVyaWFSZXN1bHRDb3VudChnZW5lX3N5bWJvbHMgPSBudWxsLCBob3N0cyA9IG51bGwsIGNvdW50cmllcyA9IG51bGwsIHllYXJzID0gbnVsbCkgewogICAgICB0aGlzLmlzTG9kYWluZ1Jlc3VsdHNDb3VudCA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdmlydXNlcy9zZWFyY2hfY3JpdGVyaWEvcmVzdWx0X2NvdW50LyIgKyB0aGlzLnNlcXVlbmNlX3R5cGUgKyAiLyIgKyB0aGlzLnNwZWNpbWVuLCB7CiAgICAgICAgZ2VuZV9zeW1ib2w6IGdlbmVfc3ltYm9scywKICAgICAgICBob3N0OiBob3N0cywKICAgICAgICBjb3VudHJ5OiBjb3VudHJpZXMsCiAgICAgICAgY29sbGVjdGlvbl9kYXRlOiB5ZWFycywKICAgICAgfSkudGhlbihyZXNwb25zZT0+eyAgCiAgICAgICAgdGhpcy5udW1fdmlydXMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgdGhpcy5zbGVlcCg1MDApLnRoZW4oICgpPT57CiAgICAgICAgICB0aGlzLmlzTG9kYWluZ1Jlc3VsdHNDb3VudCA9IGZhbHNlO30pOwogICAgICB9KQogICAgfSwKICAgIGZldGNoRGF0YSAoKSB7CiAgICAgIHRoaXMubG9hZENyaXRlcmlhKCJudWNsIiwgInNhcnNjb3YyX3ZpcnVzIikKICAgICAgdGhpcy5nZXRDcml0ZXJpYVJlc3VsdENvdW50KCkKICAgICAgdGhpcy5yZXNldFNlbGVjdGlvbigpCiAgICB9LAogICAgc2V0Q3JpdGVyaWEoKSB7CgogICAgICAvLyBJZiBhbnkgaXMgc2VsZWN0ZWQsIHJlbW92ZSBhbGwgb3RoZXIgc2VsZWN0aW9ucwogICAgICB2YXIgc3ltID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlKCIjc2VsR2VuZVN5bWJvbCIpOwogICAgICB2YXIgaG9zID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlKCIjc2VsSG9zdCIpOwogICAgICB2YXIgY29uID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlKCIjc2VsQ291bnRyeSIpOwogICAgICB2YXIgeWVhID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlKCIjc2VsWWVhciIpOwoKICAgICAgdGhpcy5jcml0ZXJpYV9zZWxlY3Rpb24uZ2VuZV9zeW1ib2xzID0gc3ltOwogICAgICB0aGlzLmNyaXRlcmlhX3NlbGVjdGlvbi5ob3N0cyA9IGhvczsKICAgICAgdGhpcy5jcml0ZXJpYV9zZWxlY3Rpb24uY291bnRyaWVzID0gY29uOwogICAgICB0aGlzLmNyaXRlcmlhX3NlbGVjdGlvbi55ZWFycyA9IHllYTsKICAgICAgCiAgICAgIHRoaXMuZ2V0Q3JpdGVyaWFSZXN1bHRDb3VudChzeW0sIGhvcywgY29uLCB5ZWEpOwogICAgfSwKICAgIGdldFNlbGVjdGVkVmFsdWUoc2VsZWN0b3IpIHsKICAgICAgaWYoJChzZWxlY3RvcikudmFsKCkuaW5jbHVkZXMoIihBbnkpIil8fCAkKHNlbGVjdG9yKS52YWwoKS5sZW5ndGggPT0gMCkKICAgICAgewogICAgICAgICQoc2VsZWN0b3IgKyAiIG9wdGlvbjpzZWxlY3RlZCIpLnByb3AoInNlbGVjdGVkIiwgZmFsc2UpOwogICAgICAgICQoc2VsZWN0b3IpLnZhbCgiKEFueSkiKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gJChzZWxlY3RvcikudmFsKCk7CiAgICB9LAogICAgcmVzZXRTZWxlY3Rpb24oKSB7CiAgICAgIGZvcih2YXIgc2VsZWN0b3Igb2YgWyIjc2VsR2VuZVN5bWJvbCIsICIjc2VsSG9zdCIsICIjc2VsQ291bnRyeSIsICIjc2VsWWVhciJdKQogICAgICB7CiAgICAgICAgJChzZWxlY3RvciArICIgb3B0aW9uOnNlbGVjdGVkIikucHJvcCgic2VsZWN0ZWQiLCBmYWxzZSk7CiAgICAgICAgJChzZWxlY3RvcikudmFsKCIoQW55KSIpOwogICAgICB9CiAgICB9LAogICAgc2V0U2VxdWVuY2VUeXBlKHNlcXVlbmNlX3R5cGUpIHsKICAgICAgdGhpcy5pc0xvZGFpbmdDcml0ZXJpYSA9IHRydWU7CiAgICAgIHRoaXMuc2VxdWVuY2VfdHlwZSA9IHNlcXVlbmNlX3R5cGU7CiAgICAgIHRoaXMubG9hZENyaXRlcmlhKHNlcXVlbmNlX3R5cGUsIHRoaXMuc3BlY2ltZW4pCiAgICAgIHRoaXMuZ2V0Q3JpdGVyaWFSZXN1bHRDb3VudCgpCiAgICAgIHRoaXMucmVzZXRTZWxlY3Rpb24oKQogICAgICB0aGlzLnNldENyaXRlcmlhKCkKICAgIH0sCiAgICBzZXRTcGVjaW1lbihzcGVjaW1lbikgewogICAgICB0aGlzLmlzTG9kYWluZ0NyaXRlcmlhID0gdHJ1ZTsKICAgICAgdGhpcy5zcGVjaW1lbiA9IHNwZWNpbWVuCiAgICAgIHRoaXMubG9hZENyaXRlcmlhKHRoaXMuc2VxdWVuY2VfdHlwZSwgc3BlY2ltZW4pCiAgICAgIHRoaXMuZ2V0Q3JpdGVyaWFSZXN1bHRDb3VudCgpCiAgICAgIHRoaXMucmVzZXRTZWxlY3Rpb24oKQogICAgICB0aGlzLnNldENyaXRlcmlhKCkKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<section class=\"jumbotron vertical-center main\">\n<div class=\"container\">\n    <h6 class=\"jumbotron-heading tl-blue\"><a href=\"/\">Home</a>&nbsp;<i class=\"fas fa-chevron-right\"></i>&nbsp; hCoronaviruses DB</h6>\n    <div class=\"accordion\" id=\"accordionExample\">\n        <div class=\"card-blue\">\n            <div class=\"\" id=\"headingTwo\">\n              <div class=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\" >\n              <h1 class=\"tl-green card-title\">hCoronaviruses DB</h1>\n              <p class=\"card-text\">Comprehensibe, up-to-date, genetic and proteomic database for the SARS-CoV, MERS-CoV-2, and SARS-COV-2. User-friendly interface.</p>\n              <p class=\"card-text\">Computational tools for the customized search analysis.</p>\n              </div>\n            </div>\n            <div id=\"collapseTwo\" class=\"collapse show\" aria-labelledby=\"headingTwo\" data-parent=\"#accordionExample\">\n            <div class=\"card-body\">\n                <form> \n                <div class=\"form-group row\">\n                    <label for=\"exampleFormControlSelect1\" class=\"col-sm-2 col-form-label\" style=\"text-align:left;\">Virus Name</label>\n                    <div class=\"col-sm-10\">\n                        <div id=\"virusSelector\" class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n                            <label @click=\"setSpecimen('sarscov2_virus')\" class=\"btn btn-primary active bg-white\">\n                                <input type=\"radio\" name=\"options\" id=\"opt-sarscov2\" autocomplete=\"off\" checked> SARS-COV-2\n                            </label>\n                            <label @click=\"setSpecimen('sars_virus')\" class=\"btn btn-primary bg-white\">\n                                <input type=\"radio\" name=\"options\" id=\"opt-sars\" autocomplete=\"off\"> SARS-COV\n                            </label>\n                            <label @click=\"setSpecimen('mers_virus')\" class=\"btn btn-primary bg-white\">\n                                <input type=\"radio\" name=\"options\" id=\"opt-mers\" autocomplete=\"off\"> MERS-COV\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"form-group row\">\n                    <label for=\"exampleFormControlSelect1\" class=\"col-sm-2 col-form-label\" style=\"text-align:left;\">Sequence Type</label>\n                    <div class=\"col-sm-10\">\n                        <div id=\"virusSelector\" class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n                            <label @click=\"setSequenceType('nucl')\" class=\"btn btn-secondary active bg-white\">\n                                <input type=\"radio\" name=\"options\" id=\"opt-sars\" autocomplete=\"off\" checked> Genes\n                            </label>\n                            <label @click=\"setSequenceType('prot')\" class=\"btn btn-secondary bg-white\">\n                                <input type=\"radio\" name=\"options\" id=\"opt-sarscov2\" autocomplete=\"off\"> Proteins\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div id=\"containi\">\n                    <div class=\"row\">\n                    <div class=\"col-xs-12 col-sm-8 col-lg-4\">\n                        <label for=\"xyzw1\" class=\"col-form-label tl-blue\">Gene Product Name (Gene Symbol) <div v-if=\"isLodaingCriteria\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                        </div></label>\n                        <select :disabled=\"isLodaingCriteria\" class=\"select2Crit form-control\" multiple id=\"selGeneSymbol\" size=\"10\">\n                            <option>(Any)</option>\n                            <option style=\"text-transform: capitalize;\"  v-for=\"g in criteria.genes\" :value=\"g[0]\">{{g[1]}} ({{g[0]}})</option>\n                        </select>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-4 col-lg-3\">\n                        <label for=\"xyzw1\" class=\"col-form-label tl-blue\">Host <div v-if=\"isLodaingCriteria\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                        </div></label>\n                        <select :disabled=\"isLodaingCriteria\" class=\"select2Crit form-control\" multiple id=\"selHost\" size=\"10\">\n                            <option>(Any)</option>\n                            <option v-for=\"host in criteria.host\" v-bind:key=\"host\">{{host}}</option>\n                        </select>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-lg-3\">\n                        <label for=\"xyzw1\" class=\"col-form-label tl-blue\">Country <div v-if=\"isLodaingCriteria\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                        </div></label>\n                        <select :disabled=\"isLodaingCriteria\" class=\"select2Crit form-control\" multiple id=\"selCountry\"  size=\"10\">\n                            <option>(Any)</option>\n                            <option v-for=\"country in criteria.country\" v-if=\"country != null\" v-bind:key=\"country\">{{country}}</option>\n                        </select>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-lg-2\">\n                        <label for=\"xyzw1\" class=\"col-form-label tl-blue\">Collection Date <div v-if=\"isLodaingCriteria\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                        </div></label>\n                        <select :disabled=\"isLodaingCriteria\" class=\"select2Crit form-control\" multiple id=\"selYear\" size=\"10\">\n                            <option>(Any)</option>\n                            <option v-for=\"year in criteria.collection_date\" v-if=\"year != null\" v-bind:key=\"year\">{{year}}</option>\n                        </select>\n                    </div>\n                    </div>\n                </div>\n                <br>\n                <div class=\"row\">\n                    <div class=\"col-sm-12\">\n                    <router-link :to=\"{ \n                      name: 'results', \n                      params: {\n                        specimen: specimen,\n                        sequence_type: sequence_type,\n                        search_type: 'custom', \n                        gene_symbols: criteria_selection.gene_symbols, \n                        hosts: criteria_selection.hosts, \n                        countries: criteria_selection.countries, \n                        years: criteria_selection.years, \n                        } \n                      }\" class=\"btn btn-primary bg-blue\">\n                      <span>\n                        <i class=\"fa fa-search\"></i>  Search for {{specimen.replace(\"_\", \" \") + \"es\"}} \n                        <span style=\"font-weight: bold\" v-if=\"!isLodaingResultsCount\">({{num_virus}} results)</span>\n                      <div v-if=\"isLodaingResultsCount\" class=\"spinner-border text-light spinner-border-sm\" role=\"status\"></div>\n                      </span>\n                    </router-link>\n                    </div>\n                </div>\n                </form>\n            </div>\n            </div>\n        </div>\n\n        <div class>\n            <div class=\"\" id=\"headingThree\">\n            <h5 class=\"mb-0\">\n                <button class=\"btn btn-link collapsed tl-blue\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                Search by Accession Number\n                </button>\n            </h5>\n            </div>\n            <div id=\"collapseThree\" class=\"collapse\" aria-labelledby=\"headingThree\" data-parent=\"#accordionExample\">\n            <div class=\"card-body\">\n                <form method=\"get\" action=\"/results\">\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\">Accession Number</label>\n                        <div class=\"col-sm-10\">\n                          <input type=\"text\" v-model=\"accession_num\" class=\"form-control\" id=\"exampleFormControlTextarea1\"  placeholder=\"Enter the accession number here\">\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <div class=\"col-sm-12\">\n                        <router-link :to=\"{ name: 'results', params: {search_type: 'accession', accession_num: accession_num } }\" class=\"btn btn-primary\"><i class=\"fa fa-search\"></i>  Search</router-link>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            </div>\n        </div>\n    </div>\n</div>\n</section>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {LoopingRhombusesSpinner} from 'epic-spinners'\n\n// @ is an alias to /src\nexport default {\n  name: \"search\",\n  components: {\n    LoopingRhombusesSpinner\n  },\n  data () {\n    return {\n      isLodaingCriteria: true,\n      isLodaingResultsCount: true,\n      accession_num: \"\",\n      specimen: \"sarscov2_virus\",\n      sequence_type: \"nucl\",\n      num_virus: 0,\n      criteria: {\n        gene_symbols: null,\n        hosts: null,\n        countries: null,\n        years: null,\n      },\n      criteria_selection: {\n        gene_symbols: null,\n        hosts: null,\n        countries: null,\n        years: null,\n      },\n    }\n  },\n  created () {\n    this.fetchData()\n  },\n  updated () {\n   /* $('.select2Crit').select2({\n      \"placeholder\": \"(Any)\"\n    });*/\n\n    $('.select2Crit').on('change',e => {\n      this.setCriteria();\n    });\n  },\n  watch: {\n\n  },\n  computed: {\n    username () {\n      return \"\"\n    }\n  },\n  methods: {\n    sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    },\n    loadCriteria (sequence_type, specimen) {\n      axios.post(\"/api/viruses/search_criteria/\" + sequence_type + \"/\" + specimen).then(response=>{\n        // Special handling for genes\n        for (var i = 0; i < response.data.genes.length; i++)\n        {\n          var g = response.data.genes[i];\n          if(g[0] == \"P90\") {\n            g[1] = \"RNA-Directed RNA Polymerase\";\n          } else {\n            g[1] = g[1].toLowerCase();\n          }\n        }\n\n        this.criteria = response.data;\n        \n         this.sleep(500).then( ()=>{\n        this.isLodaingCriteria = false;});\n      })\n    },\n    getCriteriaResultCount(gene_symbols = null, hosts = null, countries = null, years = null) {\n      this.isLodaingResultsCount = true;\n      axios.post(\"/api/viruses/search_criteria/result_count/\" + this.sequence_type + \"/\" + this.specimen, {\n        gene_symbol: gene_symbols,\n        host: hosts,\n        country: countries,\n        collection_date: years,\n      }).then(response=>{  \n        this.num_virus = response.data\n        this.sleep(500).then( ()=>{\n          this.isLodaingResultsCount = false;});\n      })\n    },\n    fetchData () {\n      this.loadCriteria(\"nucl\", \"sarscov2_virus\")\n      this.getCriteriaResultCount()\n      this.resetSelection()\n    },\n    setCriteria() {\n\n      // If any is selected, remove all other selections\n      var sym = this.getSelectedValue(\"#selGeneSymbol\");\n      var hos = this.getSelectedValue(\"#selHost\");\n      var con = this.getSelectedValue(\"#selCountry\");\n      var yea = this.getSelectedValue(\"#selYear\");\n\n      this.criteria_selection.gene_symbols = sym;\n      this.criteria_selection.hosts = hos;\n      this.criteria_selection.countries = con;\n      this.criteria_selection.years = yea;\n      \n      this.getCriteriaResultCount(sym, hos, con, yea);\n    },\n    getSelectedValue(selector) {\n      if($(selector).val().includes(\"(Any)\")|| $(selector).val().length == 0)\n      {\n        $(selector + \" option:selected\").prop(\"selected\", false);\n        $(selector).val(\"(Any)\");\n        return null;\n      }\n      return $(selector).val();\n    },\n    resetSelection() {\n      for(var selector of [\"#selGeneSymbol\", \"#selHost\", \"#selCountry\", \"#selYear\"])\n      {\n        $(selector + \" option:selected\").prop(\"selected\", false);\n        $(selector).val(\"(Any)\");\n      }\n    },\n    setSequenceType(sequence_type) {\n      this.isLodaingCriteria = true;\n      this.sequence_type = sequence_type;\n      this.loadCriteria(sequence_type, this.specimen)\n      this.getCriteriaResultCount()\n      this.resetSelection()\n      this.setCriteria()\n    },\n    setSpecimen(specimen) {\n      this.isLodaingCriteria = true;\n      this.specimen = specimen\n      this.loadCriteria(this.sequence_type, specimen)\n      this.getCriteriaResultCount()\n      this.resetSelection()\n      this.setCriteria()\n    }\n  }\n};\n</script>\n\n<style>\n.capitalize {\n  text-transform:capitalize;\n}\n/* \n*  The .navi properties are for styling only\n*  These properties can be changed or removed\n*/\n.navi {\n  background-color: #eaeaea;\n  height: 40px;\n}\n\n\n/*\n*  Position the #infoi element in the top-right\n*  of the .wrapper element\n*/\n#infoi {\n  position: absolute;\n  top: calc(50% - 35px);\n  right: calc(50% - 35px);\n  \n  /*\n  *  Styling only, the below can be changed or removed\n  *  depending on your use case\n  */\n  height: 100px;\n  width: 100%;\n  padding: 10px 10px;\n}\n\n.row {\n  padding-bottom: 5px;\n}\n\n</style>\n\n"]}]}